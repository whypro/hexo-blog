<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Kubernetes 容器生命周期管理 | Everlasting</title>
  <meta name="author" content="whypro">
  
  <meta name="description" content="健康检查和就绪检查健康检查（Liveness Probe）如果设置了 livenessProbe，k8s (kubelet) 会每隔 n 秒执行预先配置的行为来检查容器是否健康
当健康检查失败时，k8s 会认为容器已经挂掉，会根据 restartPolicy 来对容器进行重启或其他操作。
每次检查有 3 种结果，Success、Failure、Unknown
如果不配置，默认的检查状态为 Success">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Kubernetes 容器生命周期管理">
  <meta property="og:site_name" content="Everlasting">

  
    <meta property="og:image" content>
  

  
    <link rel="alternative" href="/hexo-blog/atom.xml" title="Everlasting" type="application/atom+xml">
  
  
    <link href="/hexo-blog/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/hexo-blog/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/hexo-blog/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/hexo-blog/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/hexo-blog/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/hexo-blog/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/hexo-blog/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/hexo-blog/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?17e1c6a0010d7be7e49ae6d2c2e7b817";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>
</html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/hexo-blog/">Everlasting</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/hexo-blog/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/hexo-blog/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/hexo-blog/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/hexo-blog/about.html" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Kubernetes 容器生命周期管理</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="健康检查和就绪检查"><a href="#健康检查和就绪检查" class="headerlink" title="健康检查和就绪检查"></a>健康检查和就绪检查</h2><h3 id="健康检查（Liveness-Probe）"><a href="#健康检查（Liveness-Probe）" class="headerlink" title="健康检查（Liveness Probe）"></a>健康检查（Liveness Probe）</h3><p>如果设置了 <code>livenessProbe</code>，k8s (kubelet) 会每隔 n 秒执行预先配置的行为来检查容器是否健康</p>
<p>当健康检查失败时，k8s 会认为容器已经挂掉，会根据 <code>restartPolicy</code> 来对容器进行重启或其他操作。</p>
<p>每次检查有 3 种结果，<code>Success</code>、<code>Failure</code>、<code>Unknown</code></p>
<p>如果不配置，默认的检查状态为 <code>Success</code></p>
<a id="more"></a>
<p><strong>什么时候不需要健康检查</strong>：如果服务在异常后会自动退出或 crash，就不必配置健康检查，k8s 会按照重启策略来自动操作。</p>
<p><strong>什么时候需要健康检查</strong>：相反，如果服务异常必须由 k8s 主动介入来重启容器，就需要配置健康检查</p>
<h3 id="就绪检查（Readiness-Probe）"><a href="#就绪检查（Readiness-Probe）" class="headerlink" title="就绪检查（Readiness Probe）"></a>就绪检查（Readiness Probe）</h3><p>如果设置了 <code>readinessProbe</code>，k8s (kubelet) 会每隔 n 秒检查容器对外提供的服务是否正常</p>
<p>当就绪检查失败时，k8s 会将 Pod 标记为 <code>Unready</code>，将 Pod IP 从 endpoints 中剔除，即不会让之后的流量通过 service 发送过来。</p>
<p>在首次检查之前，初始状态为 <code>Failure</code></p>
<p>如果不配置，默认的状态为 <code>Success</code></p>
<p><strong>什么时候需要就绪检查</strong>：如果在服务启动后、初始化完成之前不想让流量过来，就需要配置就绪检查。</p>
<p><strong>什么时候不需要就绪检查</strong>：除了上述场景，在 Pod 被删除时，k8s 会主动将 Pod 置为 <code>UnReady</code> 状态，之后的流量也不会过来，因此针对这种情况不必配置就绪检查。</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>健康／就绪检查支持以下参数：</p>
<ul>
<li><code>initialDelaySeconds</code>: 容器启动后，进行首次检查的等待时间（秒）</li>
<li><code>periodSeconds</code>: 每次检查的间隔时间（秒）</li>
<li><code>timeoutSeconds</code>: 执行检查的超时时间（秒），默认值为 1，最小值是 1</li>
<li><code>successThreshold</code>: 检查失败时，连续成功 n 次后，认为该容器的健康／就绪检查成功。默认值为 1，最小值是 1，对于健康检查必须为 1</li>
<li><code>failureThreshold</code>: 连续失败 n 次后，认为该容器的健康／就绪检查失败。默认值为 3，最小值是 1</li>
</ul>
<h3 id="检查方式"><a href="#检查方式" class="headerlink" title="检查方式"></a>检查方式</h3><h4 id="Exec-方式"><a href="#Exec-方式" class="headerlink" title="Exec 方式"></a>Exec 方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">livenessProbe:</span><br><span class="line">  exec:</span><br><span class="line">    command:</span><br><span class="line">    - cat</span><br><span class="line">    - /tmp/healthy</span><br></pre></td></tr></table></figure>
<h4 id="HTTP-GET-请求方式"><a href="#HTTP-GET-请求方式" class="headerlink" title="HTTP GET 请求方式"></a>HTTP GET 请求方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">livenessProbe:</span><br><span class="line">  httpGet:</span><br><span class="line">    path: /healthz</span><br><span class="line">    port: 8080</span><br><span class="line">    httpHeaders:</span><br><span class="line">    - name: X-Custom-Header</span><br><span class="line">      value: Awesome</span><br></pre></td></tr></table></figure>
<p>支持的参数包括：</p>
<ul>
<li><code>host</code>: 目标主机地址，默认值为 pod IP</li>
<li><code>scheme</code>: HTTP 或 HTTPS，默认为 HTTP</li>
<li><code>path</code>: 访问路径</li>
<li><code>httpHeaders</code>: 自定义请求头</li>
<li><code>port</code>: 目标端口号，有效值 1~65535</li>
</ul>
<h4 id="TCP-Socket-方式"><a href="#TCP-Socket-方式" class="headerlink" title="TCP Socket 方式"></a>TCP Socket 方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">livenessProbe:</span><br><span class="line">  tcpSocket:</span><br><span class="line">    port: 8080</span><br></pre></td></tr></table></figure>
<p>支持的参数包括：</p>
<ul>
<li><code>host</code>: 目标主机地址，默认值为 pod IP</li>
<li><code>port</code>: 目标端口号，有效值 1~65535</li>
</ul>
<h2 id="容器重启策略"><a href="#容器重启策略" class="headerlink" title="容器重启策略"></a>容器重启策略</h2><p><code>restartPolicy</code> 是 livenessProbe <code>Failure</code> 后执行的策略，作用于 Pod 的每个容器，可以配置为 <code>Always</code>、<code>OnFaiiure</code>、<code>Never</code>，默认值为 <code>Always</code>。 </p>
<p><code>restartPolicy</code> 只会影响本机节点重启容器的策略，并不会影响 Pod 重新调度的行为，重启的方式按照时间间隔（10s, 20s, 40s, …, 5min）来重启容器，并且每 10min 重置间隔时间</p>
<p>重启策略 <code>restartPolicy</code> 的配置通过以下几个场景来举例说明：</p>
<ol>
<li>Pod Running 状态，包含 1 个容器，容器正常退出</li>
</ol>
<p>记录 completion 事件</p>
<ul>
<li><code>Always</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>OnFaiiure</code>: 不重启容器，Pod phase 变为 <code>Succeeded</code></li>
<li><code>Never</code>: 不重启容器，Pod phase 变为 <code>Succeeded</code></li>
</ul>
<ol start="2">
<li>Pod Running 状态，包含 1 个容器，容器异常退出</li>
</ol>
<p>记录 failure 事件</p>
<ul>
<li><code>Always</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>OnFaiiure</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>Never</code>: 不重启容器，Pod phase 变为 <code>Failed</code></li>
</ul>
<ol start="3">
<li>Pod Running 状态，包含 2 个容器，其中一个容器异常退出</li>
</ol>
<p>记录 failure 事件</p>
<ul>
<li><code>Always</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>OnFaiiure</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>Never</code>: 不重启容器，Pod phase 保持 <code>Running</code> 状态</li>
</ul>
<p>此时如果第二个容器退出（无论正常还是异常）</p>
<p>记录 failure 事件</p>
<ul>
<li><code>Always</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>OnFaiiure</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>Never</code>: 不重启容器，Pod phase 变为 <code>Failed</code></li>
</ul>
<ol start="4">
<li>Pod Running 状态，包含 1 个容器，容器被 OOM (out of memory) killed</li>
</ol>
<p>记录 OOM 事件</p>
<ul>
<li><code>Always</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>OnFaiiure</code>: 重启容器，Pod phase 保持 <code>Running</code> 状态</li>
<li><code>Never</code>: 不重启容器，Pod phase 变为 <code>Failed</code></li>
</ul>
<ol start="5">
<li>Pod Running 状态，遇到节点异常（比如磁盘挂掉、segmented out）</li>
</ol>
<p>根据异常原因记录相应事件</p>
<p>无论设置为哪种策略，Pod 状态变为 <code>Failed</code>，并尝试在其他节点重新创建（如果 Pod 是通过 Controller 管理的）</p>
<h2 id="容器生存周期事件处理"><a href="#容器生存周期事件处理" class="headerlink" title="容器生存周期事件处理"></a>容器生存周期事件处理</h2><p>k8s 在容器创建或终止时会发送 <code>postStart</code> 或 <code>preStop</code> 事件，用户可以通过配置 handler，对这两个容器事件进行处理。</p>
<p>k8s 在容器创建之后发送 <code>postStart</code> 事件，postStart handler 是异步执行，所以并不保证会在容器的 entrypoint 之前执行，不过容器代码会阻塞住直到 postStart handler 执行完成。执行成功后，容器状态才会设为 <code>Running</code></p>
<p>k8s 在容器 terminate 之前发送 <code>preStop</code> 事件，terminate 行为会阻塞，直到 preStop handler 同步执行成功或者 Pod 配置的 grace period 超时 (<code>terminationGracePeriodSeconds</code>)。注意：如果不是主动终止，k8s 不会发送 <code>preStop</code> 事件（比如正常退出）。</p>
<p>如果 postStart 或 preStop handler 执行失败，k8s 直接 kill 掉容器。</p>
<h3 id="handler-执行方式"><a href="#handler-执行方式" class="headerlink" title="handler 执行方式"></a>handler 执行方式</h3><h4 id="Exec-方式-1"><a href="#Exec-方式-1" class="headerlink" title="Exec 方式"></a>Exec 方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lifecycle:</span><br><span class="line">  postStart:</span><br><span class="line">    exec:</span><br><span class="line">      command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;echo Hello from the postStart handler &gt; /usr/share/message&quot;]</span><br></pre></td></tr></table></figure>
<h4 id="HTTP-GET-方式"><a href="#HTTP-GET-方式" class="headerlink" title="HTTP GET 方式"></a>HTTP GET 方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">lifecycle:</span><br><span class="line">  postStart:</span><br><span class="line">    httpGet:</span><br><span class="line">      path: /healthz</span><br><span class="line">      port: 8080</span><br><span class="line">      httpHeaders:</span><br><span class="line">      - name: X-Custom-Header</span><br><span class="line">        value: Awesome</span><br></pre></td></tr></table></figure>
<h2 id="配置示例"><a href="#配置示例" class="headerlink" title="配置示例"></a>配置示例</h2><p>livenessProbe 和 readinessProbe 的配置项完全相同，只是检查失败后的行为不同</p>
<p>lifecycle 的 exec 和 httpGet 和 livenessProbe 对应的配置项相同。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: example</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - name: example</span><br><span class="line">    // ... </span><br><span class="line">    livenessProbe:</span><br><span class="line">      exec:</span><br><span class="line">        command:</span><br><span class="line">        - cat</span><br><span class="line">        - /tmp/healthy</span><br><span class="line">      initialDelaySeconds: 5</span><br><span class="line">      periodSeconds: 10</span><br><span class="line">    readinessProbe:</span><br><span class="line">      tcpSocket:</span><br><span class="line">        port: 8080</span><br><span class="line">      initialDelaySeconds: 10</span><br><span class="line">      periodSeconds: 10</span><br><span class="line">    lifecycle:</span><br><span class="line">      postStart:</span><br><span class="line">        exec:</span><br><span class="line">          command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;echo Hello from the postStart handler &gt; /usr/share/message&quot;]</span><br><span class="line">      preStop:</span><br><span class="line">        httpGet:</span><br><span class="line">          host: xxx.xxx.xxx</span><br><span class="line">          path: /stop</span><br><span class="line">          port: 8080</span><br><span class="line">  restartPolicy: OnFailure</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>Pod 生命周期：<a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/" target="_blank" rel="noopener">https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/</a></p>
<p>健康检查和就绪检查：<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/" target="_blank" rel="noopener">https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/</a></p>
<p>容器生存周期事件处理：<br><a href="https://kubernetes.io/docs/tasks/configure-pod-container/attach-handler-lifecycle-event/" target="_blank" rel="noopener">https://kubernetes.io/docs/tasks/configure-pod-container/attach-handler-lifecycle-event/</a><br><a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/" target="_blank" rel="noopener">https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/</a></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/hexo-blog/20180725/etcd-集群的备份和还原/" type="button" class="btn btn-default"><i class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/hexo-blog/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/hexo-blog/20180301/Kubernetes-服务灰度升级最佳实践/" type="button" class="btn btn-default ">Next<i class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
    <div id="disqus_thread" class="ds-thread">
        <script type="text/javascript">
            /**
             * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
             */
                /*
                 var disqus_config = function () {
                 this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                 };
                 */
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = '//hexo-blog-everlasting.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div>
    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2018-04-04 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/hexo-blog/tags/原创/">原创<span>29</span></a></li> <li><a href="/hexo-blog/tags/Kubernetes/">Kubernetes<span>6</span></a></li> <li><a href="/hexo-blog/tags/K8S/">K8S<span>6</span></a></li> <li><a href="/hexo-blog/tags/云计算/">云计算<span>5</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#健康检查和就绪检查"><span class="toc-article-text">健康检查和就绪检查</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#健康检查（Liveness-Probe）"><span class="toc-article-text">健康检查（Liveness Probe）</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#就绪检查（Readiness-Probe）"><span class="toc-article-text">就绪检查（Readiness Probe）</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#参数"><span class="toc-article-text">参数</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#检查方式"><span class="toc-article-text">检查方式</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#Exec-方式"><span class="toc-article-text">Exec 方式</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#HTTP-GET-请求方式"><span class="toc-article-text">HTTP GET 请求方式</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#TCP-Socket-方式"><span class="toc-article-text">TCP Socket 方式</span></a></li></ol></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#容器重启策略"><span class="toc-article-text">容器重启策略</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#容器生存周期事件处理"><span class="toc-article-text">容器生存周期事件处理</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#handler-执行方式"><span class="toc-article-text">handler 执行方式</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#Exec-方式-1"><span class="toc-article-text">Exec 方式</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#HTTP-GET-方式"><span class="toc-article-text">HTTP GET 方式</span></a></li></ol></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#配置示例"><span class="toc-article-text">配置示例</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#参考"><span class="toc-article-text">参考</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->

<script type="text/javascript">
var disqus_shortname = 'hexo-blog-everlasting';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 whypro
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/hexo-blog/js/jquery.imagesloaded.min.js"></script>
<script src="/hexo-blog/js/gallery.js"></script>
<script src="/hexo-blog/js/bootstrap.min.js"></script>
<script src="/hexo-blog/js/main.js"></script>
<script src="/hexo-blog/js/search.js"></script> 


<link rel="stylesheet" href="/hexo-blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/hexo-blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/hexo-blog/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
